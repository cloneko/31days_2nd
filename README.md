# 31days_2nd

31daysくらいで何か作ってデプロイする。

## 目標

* 某試験の1か月前(2016/05/31)までにSPAでCBT的な何かを作る
  * Android/iPhoneの標準ブラウザでできるようにする
  * 普通のPCのブラウザでもできるようにするけどとりあえずレスポンシブとかはあとで考える。
* 新しい言語には手を出さない(CoffeeScriptかTypeScriptでやる)
  * Material Designとかそういう誘惑に負けない
  * とりあえず動かせ俺
* 動くモノを作る
* テストコードも書けるようになってみる(っていうかどうやってSPAでTDDなの作るか知らない)

### ToDo

* [x] フレームワークの選定/雛形の作成
  * AngularJS/CoffeeScript/yeoman(+ ~~gulp~~ gruntで)
* [x] S3へのビルドスクリプトを書く( ~~gulp~~ gruntで)
* [x] First Deploy
* [x] 問題を解けるようにする(表示・選択)
* [x] 複数の問題を表示する(1画面1問)
* [x] 採点
* [x] 問題数を設定できるようにする
* [x] 特定の人だけに問題を配信できるようにする
  * Lambda+API Gateway経由でJSONデータを取得するようにし、そこでパスワード認証的なものをしている
* [ ] 問題データをセッションストレージに格納
  * 非同期処理系…
* [ ] 試験結果をどっかに保存
  * Fusion Tablesかなぁ…
    * API Gateway →  Lambda →  Fusion Tablesかな
* [ ] 運用開始

### 次の段階(夢/妄想)

* [ ] ユーザーの識別(Login?)
* [ ] レスポンシブ?
* [ ] まともなCI
* [ ] 裏で集計できるようにする(どうやってデータを溜めるか検討。AWS LambdaとAPI Gateway使ってみたい。もしくは無駄にFirehose → S3)

## Log

### 2016/04/26

* リポジトリ作った
* 目標決めた
* ってまだこの日は始まったばかり(1:29)なので朝から何やるか考える

### 2016/04/27

* AngularJSとCoffeeScriptでやるって決めた
* `yo angular --coffee`
* `yo angular:service cbtExam --coffee`
* はて、AngularJSってどう書くんだっけ?と忘れたはじめたのでチュートリアルもう一回やろ…

### 2016/04/28

* README.mdしか更新してない気がしてる…
* gulp bowerが通らん…ので`rm -fr cbt/*`。はぁ…
  * ってgulpはExperimentalなのかよ…ってなわけでgruntにした
    * そもそもgulpは使ったことあったけどgrunt使ったことなかったんでgulpでいいや…って選択したのによく見たらExperimentalって書いてあるやん…

```
    $ yo angular --coffee
    $ yo angular:controller examlist --coffee
```

剃り残したヒゲを抜こうとして毛抜きを手に取り、一生懸命抜こうとしてもひっからないなぁ…って凹んでたら持ってる向きが逆だったってくらい眠いのでとりあえず今日はここまでにしておく…

### 2016/04/29

* 飲み会帰り&朝になったら勉強会(イベント?)だしちょっとだけ。
* ng-repeatの使い方を思い出すためにexamlistをng-repeatで表示する部分を作った。

### 2016/05/01

* 4月30日って何だっけ…
* とりあえず1問だけ表示するようにした。

### 2016/05/02

* 複数問題を出るようにした。radioでも出した。でもデータはまだバインドしていない
* 問題をjsonにてHTTPリクエストで取得するようにした。

### 2016/05/03

* データバインドできるようにした
* なんか納得行かないけど、一応…(っていうか経験値不足のせいです)
* そろそろ日付変わりそう(JSTで)なので一旦コミット

### 2016/05/04

* 採点までできるようにした
* 複数選択できるようにしたい
  * した
* 直接入力にも対応した
* なんでday7(branch)なのに05/04なんだろ…って一瞬考えてしまった…
* 画面切り替えもできるようにした(見た目は置いといて)
* とりあえず動くものは作れた。これからブラッシュアップ大会

### 2016/05/05

* 問題数を設定できないとヤバいやん?ってのに気付いた
  * 綺麗な実装とは思えないけど実装した。裏に隠してて表示してないだけ。
* Aboutちょっと書いた


### 2016/05/06

* 名前をつけた
  * Clobuta
  * 意味はご察しください…
  * いろいろやったけどもうまとめきれてない

### 2016/05/07

* JSONデータの取得をLambda + API Gateway経由にし、不要な問題流出を防ぐようにした(ただし簡易的なもの)
* それに伴なってConfigコントローラーを追加。認証キーと、一応学籍番号を登録できるようにした(LocalStorageに保存してある)
  * 認証キーが正しくないとLambda + API Gateway経由で問題が取得できないようにした
* まぁ、$0.01とは言えAPI Gatewayの使用料が発生している…無駄にEC2とか動かすよりは安いからいいんだけど…

### 2016/05/08 - 05/09

* いろいろやった気がするけどREADME.md書いてない…

### 2016/05/10

* 眠いのでToDoだけ更新…

### 2016/05/11

* コードうpできないけどGoogle Fusion Tableへのアクセスコードを書き始める
